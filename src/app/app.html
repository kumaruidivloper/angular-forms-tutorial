<div class="main-body">
  <h1>Change of personal details</h1>
</div>

<form [formGroup]="myForm" (ngSubmit)="formSubmit()">
<div class="main-body" formGroupName="userDetails">
  <div class="row">
    <div class="column">

      <div>
        <h4 class="titleStyle">1. Your previous personal details</h4>
      </div>

      <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Account Number</mat-label>
            <input matInput type="number" placeholder="Ex. 1234567890" formControlName="accnumber">
        </mat-form-field>
     </div>

     <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Title</mat-label>
            <input matInput type="text" placeholder="Ex. Title Name" formControlName="title">
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>DOB</mat-label>
            <input matInput [matDatepicker]="dob" formControlName="dob" placeholder="MM/DD/YYYY">
            <mat-hint></mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="dob"></mat-datepicker-toggle>
            <mat-datepicker #dob></mat-datepicker>
        </mat-form-field>
     </div>

     <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Surname</mat-label>
            <input matInput type="text" placeholder="Ex. Jhonpapa" formControlName="surname">
        </mat-form-field>
     </div>

     <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Given name(s)</mat-label>
            <input matInput type="text" placeholder="Ex. Jhonpapa" formControlName="givenName">
        </mat-form-field>
     </div>

     <div class="row">
        <mat-radio-group aria-label="Select an option" formControlName="gender">
            <mat-label><b>Gender</b></mat-label>
            <mat-radio-button value="male">Male</mat-radio-button>
            <mat-radio-button value="female">Female</mat-radio-button>
            <mat-radio-button value="others">Others</mat-radio-button>
        </mat-radio-group>
    </div>

     <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Address</mat-label>
            <input matInput type="text" placeholder="Ex. 100/308 GreatWestren Hwy, Parramatta, NSW 2114" formControlName="address">
        </mat-form-field>
     </div>

     <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Suburb</mat-label>
            <input matInput type="text" placeholder="Ex. 100/308 GreatWestren Hwy, Parramatta, NSW 2114" formControlName="suburb">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>State</mat-label>
          <mat-select formControlName="state">
              @for (state of states; track state) {
                  <mat-option [value]="state">{{ state }}</mat-option>
              }
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Postcode</mat-label>
            <input matInput type="number" placeholder="Ex. 2000" formControlName="postcode">
        </mat-form-field>
     </div>

     <div class="row">
      <mat-form-field appearance="outline">
            <mat-label>Contact phone number</mat-label>
            <input matInput type="number" placeholder="Ex. 000 000 000" formControlName="contacNumber">
      </mat-form-field>
      <mat-form-field appearance="outline">
            <mat-label>Mobile Number</mat-label>
            <input matInput type="number" placeholder="Ex. 000 000 000" formControlName="mobileNumber">
      </mat-form-field>
     </div>

     <div class="row">
      <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput type="email" placeholder="Ex. test@gmail.com" formControlName="email">
        </mat-form-field>
      </div>

      <div>
        <h4 class="titleStyle">2. Type of change requierd</h4>
      </div>

      <div class="row" *ngFor="let group of typeOfChangeReq">
        <section class="example-section-row">
          <p class="row-check-item" *ngFor="let option of group">
            <mat-checkbox
              [checked]="typeOfChangeReqControl.value.includes(option.value)"
              (change)="onCheckboxChange($event, option.value, 'toc')">
              <span>{{ option.label }}</span>
            </mat-checkbox>
          </p>
        </section>
      </div>

      <!-- Validation Error Display -->
      <div *ngIf="typeOfChangeReqControl.invalid && typeOfChangeReqControl.touched" 
          class="error-message">
        <span *ngIf="typeOfChangeReqControl.errors?.['atLeastOneRequired']">
         * Please select at least one option
        </span>
      </div>

      <div>
        <p class="noteStyle">
         <b>Note:</b> You can also change also change your address, email address or contact phone number throught your My AMP account. If you have't registered for your online account, visit amp.com.au to get started.
        </p>
      </div>

      <div>
        <p class="titleStyle2">
          Change of name
        </p>
      </div>

      <div>
        <p class="noteStyle">
         Please make sure that you provide photocopies of your original identification documents and that the copy is correctly certified. Refer to the information sheet for detils on how to certify your documents. 
        </p>
      </div>

      <div>
        <p class="borderStyle">
         It's important that you mail the original certified copies of your documents to us - we can't accept faxed or emailed copies of the certified documents. 
        </p>
      </div>

    </div>
    <div class="column">

      <div>
        <h4 class="titleStyle">2. Your previous personal details</h4>
      </div>

      <div>
        <p class="titleStyle2">
          Reason for change of name
        </p>
      </div>

      <div>
        <p class="noteStyle">
          Please select the reason you've changed your name and provide us with the relevent documents showing your new name detais:
        </p>
      </div>

      <div class="row" *ngFor="let reason of reasonNameChange">
        <section class="example-section">
          <p class="row-check">
            <mat-checkbox
              [checked]="reasonNameChangeControl.value.includes(reason.value)"
              (change)="onCheckboxChange($event, reason.value, 'resonOfChange')">
              <span class="label-text">{{ reason.label }}</span>
            </mat-checkbox>
          </p>
        </section>
      </div>

      <!-- Validation Error Display -->
      <div *ngIf="reasonNameChangeControl.invalid && reasonNameChangeControl.touched" 
          class="error-message">
        <span *ngIf="reasonNameChangeControl.errors?.['atLeastOneRequired']">
         * Please select at least one option
        </span>
      </div>

       <div>
        <p style="padding: 8px 12px; background-color: rgb(105, 130, 214); color: #000000; margin: 5px 0 8px 0;">
          New name details
        </p>
      </div>

      <div class="row">
        <mat-form-field appearance="outline">
          <mat-label>Title</mat-label>
          <mat-select formControlName="nctitle">
              @for (titleItem of titleNames; track titleItem) {
                  <mat-option [value]="titleItem">{{ titleItem }}</mat-option>
              }
          </mat-select>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Surname</mat-label>
            <input matInput type="text" placeholder="Ex. Jhonpapa" formControlName="ncsurname">
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Given name(S)</mat-label>
            <input matInput type="text" placeholder="Ex. Jhonpapa" formControlName="ncgivenName">
        </mat-form-field>
      </div>

      <div>
        <p style="padding: 0 0 12px 0; color: #6a6767; font-size: 18px; margin-top: -10px;">
          <b>Note:</b> We won't be able to process your request if you don't send us the certified of the relevent documents
        </p>
      </div>

      <div>
        <p style="padding: 8px 12px; background-color: rgb(105, 130, 214); color: #000000; margin: 5px 0 8px 0;">
          New Address
        </p>
      </div>

      <div>
        <p style="padding: 0 0 12px 0; color: #6a6767; font-size: 18px;">
          Please provide your new address details:
        </p>
      </div>

      <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Residential Address</mat-label>
            <input matInput type="text" placeholder="Ex. 100/308 GreatWestren Hwy, Parramatta, NSW 2114" formControlName="newaddress">
        </mat-form-field>
     </div>

     <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Suburb</mat-label>
            <input matInput type="text" placeholder="Ex. BanksTown" formControlName="newsuburb">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>State</mat-label>
          <mat-select formControlName="newstate">
              @for (state of states; track state) {
                  <mat-option [value]="state">{{ state }}</mat-option>
              }
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Postcode</mat-label>
            <input matInput type="number" placeholder="Ex. 2000" formControlName="newpostcode">
        </mat-form-field>
     </div>

     <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Country</mat-label>
            <input matInput type="text" placeholder="Ex. Australia" formControlName="country">
        </mat-form-field>
     </div>

    </div>
  </div>
  
  <div class="buttonAlginRight">
    <button matButton="filled" type="submit">Submit</button>
  </div>
  
</div>
</form>

<div class="preview">
   <div class="buttonAlginCenter">
     <button class="previexToggle {{togglePre ? 'Hide' : 'Show'}}" (click)="togglePre = !togglePre">{{togglePre ? 'Hide' : 'Show'}}</button>
   </div> 
    <pre *ngIf="togglePre">{{myForm.value | json}}</pre>
</div>







