<div style="width: 100%; height: 400px; display: flex; align-items: center; justify-content: center;">
  <button (click)="showForm = true">Add User</button>
</div>

<form [formGroup]="form" *ngIf="showForm" style="border: 2px solid #ccc; padding: 20px; margin-bottom:20px; width: 60%; margin: 0 auto;">
  <div style="display: flex; gap: 10px; width: 100%; margin-bottom:20px">
    <input formControlName="name" style="flex-grow: 1; padding: 5px;" type="text" placeholder="Name" />
    <input formControlName="email" style="flex-grow: 1; padding: 5px;" type="text" placeholder="Email" />
  </div>
  <div style="display: flex; gap: 10px; width: 100%; margin-bottom:20px">
    <input formControlName="city"  style="flex-grow: 1; padding: 5px;" type="text" placeholder="city" />
  </div>
  <button (click)="addContact()" style="padding: 5px; margin-bottom: 15px;">Add contact</button>
  <div formArrayName="contacts" *ngFor="let control of contacts.controls; let i = index" >
    <ng-container [formGroupName]="i">
      <fieldset   style="margin-bottom: 20px; position: relative; padding-top:35px; border-radius: 10px; border: solid #999 1px;">
        <button (click)="deleteContacts(i)" style="position: absolute; top: -9px; right: 0; background: red; color: #fff; border: none; padding: 5px 10px; cursor: pointer; border-top-right-radius: 10px;">Delete</button>
      <legend style="font-weight: bold; color: blueviolet;">Add Contacts details {{i + 1}}</legend>
        <div style="display: flex; gap: 10px; width: 100%; margin-bottom:20px">
          <input formControlName="number" style="flex-grow: 1; padding: 5px;" type="text" placeholder="Number" />
          <input formControlName="type" style="flex-grow: 1; padding: 5px;" type="text" placeholder="type" />
        </div>
        <div style="display: flex; gap: 10px; width: 100%; margin-bottom:20px">
          <textarea formControlName="description" style="flex-grow: 1;" placeholder="Address"></textarea>
        </div>
    </fieldset>
    </ng-container>
  </div>


  <div>
    <button type="submit" (click)="onSubmit()">Submit</button>
  </div>
</form>

<pre>
{{form.value | json}}
</pre>
